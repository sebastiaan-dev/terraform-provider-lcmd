---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "lcmd_lpk_build Data Source - lcmd"
subcategory: ""
description: |-
  Builds an LPK from source and optionally uploads it to the NAS registry.
---

# lcmd_lpk_build (Data Source)

Builds an LPK from source and optionally uploads it to the NAS registry.

## Example Usage

```terraform
# Copyright (c) HashiCorp, Inc.

data "lcmd_lpk_build" "example" {
  source {
    local {
      path = "/local/path/to/lpk/repository"
    }
    git {
      url     = "https://github.com/your/repo.git"
      ref     = "main"
      subpath = "path/to/lpk"
    }
  }

  publish {
    enabled = true
    name    = "example"
  }

  env {
    template_extension = ".tmpl"
    variables = {
      SECRET_EXAMPLE = var.secret_example
    }
  }
}

variable "secret_example" {
  description = "Secret example"
  type        = string
  sensitive   = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `source` (Attributes) (see [below for nested schema](#nestedatt--source))

### Optional

- `build` (Block, Optional) (see [below for nested schema](#nestedblock--build))
- `env` (Block, Optional) (see [below for nested schema](#nestedblock--env))
- `publish` (Block, Optional) (see [below for nested schema](#nestedblock--publish))

### Read-Only

- `appid` (String)
- `id` (String) The ID of this resource.
- `local_path` (String)
- `lpk_url` (String) Download URL returned by NAS registry.
- `sha256` (String)
- `upload_id` (String)
- `version` (String)

<a id="nestedatt--source"></a>
### Nested Schema for `source`

Optional:

- `git` (Attributes) (see [below for nested schema](#nestedatt--source--git))
- `local` (Attributes) (see [below for nested schema](#nestedatt--source--local))

<a id="nestedatt--source--git"></a>
### Nested Schema for `source.git`

Required:

- `url` (String)

Optional:

- `ref` (String)
- `subpath` (String)


<a id="nestedatt--source--local"></a>
### Nested Schema for `source.local`

Required:

- `path` (String)



<a id="nestedblock--build"></a>
### Nested Schema for `build`

Optional:

- `command` (String)


<a id="nestedblock--env"></a>
### Nested Schema for `env`

Optional:

- `template_extension` (String) File extension (e.g., .tmpl or .j2) considered a template. Defaults to .tmpl.
- `variables` (Map of String) Key-value pairs exposed to template rendering and build commands.


<a id="nestedblock--publish"></a>
### Nested Schema for `publish`

Optional:

- `enabled` (Boolean)
- `name` (String)
- `version` (String)
